import { useState, useEffect } from "react";
import dynamic from "next/dynamic";

const Chart = dynamic(() => import("react-apexcharts"), { ssr: false });

const RadialChart = ({ setSeries }) => {
  const [options_f, setOptions_f] = useState();
  const [series_f, setSeries_f] = useState([]);
  const [renderMe, setRenderMe] = useState(false);

  const options3 = {
    chart: {
      height: 280,
      type: "radialBar",
    },
    colors: ["#2048e6"],
    plotOptions: {
      radialBar: {
        startAngle: -120,
        endAngle: 360,

        dataLabels: {
          name: {
            show: true,
          },
          value: {
            fontSize: "30px",
            show: true,
            offsetY: "-50px",
          },
        },
      },
    },
    fill: {
      type: "gradient",
      gradient: {
        shade: "dark",
        type: "horizontal",
        gradientToColors: ["#20aee6"],
        stops: [0, 100],
      },
    },
    stroke: {
      lineCap: "butt",
    },
    labels: ["Agents"],
  };

  useEffect(() => {
    setSeries_f([setSeries]);
  }, [setSeries]);
  return (
    <div>
      <Chart
        options={options3}
        series={series_f}
        type="radialBar"
        width="500"
      />
    </div>
  );
};

export default RadialChart;
